<div class="ui grid">

    <div class="eleven wide column graph">
        <div class="ui message" ng-show="ctrl.modifiedAxis != null">
            <i class="close icon" ng-click="ctrl.modifiedAxis = null"></i>
            <div class="header">
                <h3>yAxis of {{ctrl.modifiedAxis.title}} </h3>
            </div>
            <form name="axisForm">
                <div class="ui input">
                    <input type="number" ng-model="ctrl.modifiedAxis.min"
                           ng-max="ctrl.modifiedAxis.max" ng-change="ctrl.applyAxisChanges()" step="10"
                           required/>
                </div>
                =>
                <div class="ui input">
                    <input type="number" step="10" ng-model="ctrl.modifiedAxis.max"
                           ng-min="ctrl.modifiedAxis.min" ng-change="ctrl.applyAxisChanges()" required/>
                </div>

                <div class="ui button" style="margin-left:30px" ng-click="ctrl.applyAxisChanges(true)">
                    Reset
                </div>

                {{form.axisForm.$valid}}
            </form>

        </div>
        <div class="ui sticky">
            <div id="graphContainer"></div>
        </div>
    </div>
    <div class="five wide column config">
        <div id="stickyContext">

            <div class="box ">
                <h1>X axis</h1>
                <form name="datetimeForm" id="datetimeForm" ng-init="date = copy(ctrl.date)">
                    <div>format: <code>" month/day/year hr:min "</code></div>
                    <div class="ui input">
                        <input type="datetime-local" id="inputFrom" name="inputFrom" ng-model="date.from"
                               ng-max="date.to" required/> (from)
                    </div>
                    <div class="ui input">
                        <input type="datetime-local" id="inputTo" name="inputTo"
                               ng-model="date.to" ng-min="date.from" required/> (to)
                    </div>

                    <div class="ui button" ng-click="ctrl.applyDate(date)"
                         ng-class="{'disabled': equals(date, ctrl.date) }">
                        Apply
                    </div>

                </form>
            </div>

            <div class="box ">
                <h1>available captors</h1>

                <div class="wrapper">
                    <div class="ck-nested">
                        <div ng-class="{opened: item.opened}" ng-include="'table_tree.html'"
                             ng-repeat="item in ctrl.captorsHierarchy"></div>
                    </div>

                    <script id="table_tree.html" type="text/ng-template">
                        <div ng-class="{parent: item.children}">
                            <div class="indent" style="padding-left: {{15*level}}px"
                                 ng-click="item.opened = !item.opened"></div>
                            <div class="cell-input ui checkbox">
                                <input ng-change="ctrl.chkChanged(item)" ng-model="item.selected" type="checkbox"/>
                                <label></label>
                            </div>
                            <div class="cell-name" ng-click="item.opened = !item.opened">
                                {{item.name}}
                            </div>
                        </div>
                        <div class="children" ng-if="item.children && item.children.length">
                            <div ng-class="{opened: item.opened}" ng-include="'table_tree.html'"
                                 ng-init="level = level + 1"
                                 ng-repeat="item in item.children"></div>
                        </div>
                    </script>
                </div>
            </div>

        </div>
    </div>

    <script type="text/javascript">
        $( document ).ready( function(){
            setTimeout( function(){


            }, 1000 );
        } );
    </script>
</div>
